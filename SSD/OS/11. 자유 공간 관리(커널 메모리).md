### 분할(Splitting)

- **메모리 요청을 충족시킬 수 있는 자유 메모리 덩어리를 찾아 두 개로 나누는 과정**:
    - 메모리 할당 요청이 자유 덩어리의 크기보다 작을 때 수행됩니다.
- 예시: 1바이트 요청에 대해 두 개의 10바이트 자유 세그먼트가 있습니다.
![[Pasted image 20240421133953.png]]
### 통합(Coalescing)

- **사용자가 자유 덩어리 크기보다 큰 메모리를 요청할 경우**, 목록은 그러한 자유 덩어리를 찾을 수 없습니다.
- **통합**: 반환된 자유 덩어리를 인접한 기존 덩어리와 병합하여 큰 단일 자유 덩어리를 형성합니다.
![[Pasted image 20240421134000.png]]
### 커널 메모리 할당

- **커널은 메모리를 보수적으로 사용하고 단편화로 인한 낭비를 최소화하려고 시도해야 합니다**.
- **자주 자유 메모리 풀에서 할당됩니다**:
    - 다양한 크기의 구조체에 대한 메모리를 커널이 요청합니다.
    - 일부 커널 메모리는 연속적이어야 합니다.

### 버디 시스템(Buddy System)

- **2의 거듭제곱 할당자**:
    - 물리적으로 연속된 페이지로 구성된 고정 크기 세그먼트에서 메모리를 할당합니다.

### 슬랩 할당(Slab Allocation)

- **버디 시스템은 좋지만, 한 페이지 미만의 작은 객체에는 적합하지 않습니다**.
- **슬랩**: 하나 이상의 물리적으로 연속된 페이지
- **캐싱 문제를 포함합니다**.


### 버디 할당 (Buddy Allocation)

- **이진 버디 할당**:
    - 메모리는 2의 거듭제곱 할당자를 사용하여 할당됩니다.
    - 할당자는 요청을 수용할 수 있는 충분히 큰 블록이 발견될 때까지 자유 공간을 둘로 나눕니다.
    - 버디 할당은 내부 단편화 문제를 겪을 수 있습니다.
    - 버디 시스템은 통합을 간단하게 만듭니다.
        - 다음 레벨의 블록으로 두 블록을 통합합니다.
![[Pasted image 20240421134100.png]]
### 슬랩 할당 (Slab Allocation)

- **슬랩**: 하나 이상의 물리적으로 연속된 페이지
- **캐시**: 하나 이상의 슬랩으로 구성됩니다.
- **각각의 고유한 커널 데이터 구조에 대한 단일 캐시**:
    - 각 캐시는 객체로 채워집니다. – 데이터 구조의 인스턴스화
- **캐시 생성 시**:
    - 객체는 '자유'로 표시된 상태로 채워집니다.
- **구조체가 저장될 때**:
    - 객체는 '사용됨'으로 표시됩니다.
- **슬랩이 사용된 객체로 가득 차 있을 경우**:
    - 다음 객체는 비어 있는 슬랩에서 할당됩니다.
    - 비어 있는 슬랩이 없는 경우 새 슬랩이 할당됩니다.
- **장점**:
    - 단편화가 없고, 메모리 요청이 빠르게 만족됩니다.
![[Pasted image 20240421134111.png]]