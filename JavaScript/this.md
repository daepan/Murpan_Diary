
# this
`this`는 함수를 호출할 때 결정된다. 그래서 `this`가 어디에 있는지에 따라 바뀐다고 보면 된다.

## 전역공간의 this

전역공간에서의 `this`는 [전역 객체](https://www.notion.so/JavaScript-Info-da72a1ecee14453dba4e94412b92a91b)를 가리킨다. 전역 변수를 선언하면 자바스크립트 엔진은 이를 전역객체의 프로퍼티로 할당한다. GlobalEnv가 전역 객체를 참조하는데 전역 컨텍스트의 렉시컬 환경이 GlobalEnv를 참조한다.

전역변수로 선언하는 것과 전역객체의 프로퍼티에 할당하는 것은 `configurable`속성에 차이가 있다.

## 함수의 this, 메서드의 this

- 메서드로서의 호출과 함수로의 호출을 구분하는 법은 함수를 호출할 때 앞에 점이 있거나 대괄호 표기법으로 함수를 호출했다면 메서드로서의 호출한 것이다.
    
    ```jsx
    const obj = {
    	printThis() {
    		console.log(this)
    	}
    }
    obj.printThis(); // 메서드로서의 호출, obj를 출력한다.
    const func = obj.printThis;
    func(); // 함수로서의 호출, 전역객체인 window를 출력한다.
    ```
    
- 메서드로서의 호출에서 매서드 내부에서의 `this`는 함수명(프로퍼티 명) 앞의 객체가 된다.
- 함수를 함수로서 호출했을 때(메서드로 호출했을 때가 아니라) 함수 내부에서의 `this`는 정해지지 않아있다. 그래서 함수로서의 호출에서 `this`가 지정되지 않았다면 스코프 체인상 최상위 객체인 전역객체(`window`)가 바인딩된다.