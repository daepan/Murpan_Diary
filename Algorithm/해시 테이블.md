## 🔒 해시
해시란, **데이터를 입력받아 완전히 다른 모습의 데이터로 바꾸는 작업**

### 해시의 주요 용도
* 해시 테이블 : 해시값을 테이블 내 주소로 이용하는 탐색의 알고리즘
* 암호화 : 해싱은 원본 데이터를 변경함
* 데이터 축약 : 해시는 길이가 서로 다른 입력 데이터에 대해 일정한 길의 출력을 만들 수 있으며, 커다란 데이터를 해시하면 짧은 길이로 축약가능함


## 🌐 해시테이블

데이터의 해시값을 테이블 내 주소로 이용하는 탐색 알고리즘
배열을 선언하면 메모리에 일정 크기의 메모리가 예약된다.

데이터의 해시값을 테이블 내의 주소로 사용한다.

### 해시테이블의 기본 개념
데이터를 담을 미리 크게 확보해 놓은 후 입력 받은 데이터를 해싱하여 테이블 내 주소를 계산하고 이 주소에 데이터를 담는 것
![[Pasted image 20240418011539.png]]

### 해시 테이블의 특징
![[Pasted image 20240418011600.png]]

### 해시함수 해싱 기법

1. 나눗셈법
2. 자릿수 접기

#### 나눗셈법

> 주소 = 입력값 % 테이블의 크기

나눗셈법으로 구현된 해시 함수가 테이블 내 공간을 효율적활용
* 테이블의크기 n을 소수(Prime Number)로 정하는 것이 좋음
* (소수: 약수가 1과 자기 자신 밖에 없는 수)
 
특히 2의 제곱수와 거리가 먼 소수를 사용하는 해시 함수가 좋은 성능

![[Pasted image 20240418011657.png]]

#### 자릿수 접기

* 종이를 접듯이 숫자를 접어 일정한 크기 이하의 수로 만드는 방법
* 숫자의 각 자릿수를 더해 해시값을 만드는 방법

* 나눗셈법의 단점
	* 충돌(Collision)
		* 서로 다른 입력값에 대해 동일한 해시값, 즉 해시 테이블 내의 동일한 주소를 반환할
		* 가능성이 높음 -> 나머지가 같은 수가 나올 확률이 높음
	
	* 클러스터(Cluster) 
		* 똑같은 해시값이 아니더라도 해시 테이블 내 일부 지역의 주소들을 집중적으로 반환함
		* 데이터가 한 곳에 모이는 문제가 발생할 가능성




### 💥 해시 함수의 한계: 충돌
해시 함수가 서로 다른 입력값에 대해 동일한 해시 테이블 주소를 반환하는 것

> 해결 방법
> 1. 개방 해싱
> 2. 폐쇄 해싱


## 🚑 해시 테이블 충돌 해결 기법

### 체이닝

> 체이닝의 성능 향상 방법
> 
### 탐색 연산
### 삽입 연산

### 개방 주소법

충돌이 일어날때 해시 함수에 의해 만들어진 주소가 아니더라도 얼마든지 다른 주소를 사용할 수 있도록 허용하는 충돌 해결 알고리즘

* 선형 탐색
	* 가장 간단한 탐사 방법
	* 해시함수로부터 얻어낸 주소에 이미 다른 데이터가 있을 경우, 현재 주소에서 고정폭으로 주소를 이동
	* 이를 반복

* 제곱 탐사
	* 개념은 선형탐색과 유사
	* 차이점은 선형 탐사에서는 고정폭 만큼 이동하는 것에 비해 이동폭이 제곱수로 늘어남

### 이중 해싱
* 2개의 해시 함수를 준비해서 하나는 최초의 주소를 얻을 떄 또 다른 하는 충돌이 일어날때 탐사 이동폭을 얻기 위해 사용

###  재해싱
* 남은 공간이 거의 없는 해시테이블에서 연쇄충돌이 자주 발생
* 해시테이블의 크기를 늘리고 늘어난 해시테이블의 크기에 맞춰 테이블 내의 모든 데이터를 다시 해싱하여 재배치하는 방법
* 통계적으로 해시테이블의 공간 사용률이 70 ~ 80%에 이르면 성능 저하가 시작

